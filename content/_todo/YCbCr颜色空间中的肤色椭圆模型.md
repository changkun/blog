title: YCbCr颜色空间中的肤色椭圆模型
id: 551
tags:
  - Code
tags:
---

昨天听郭说做肤色提取时，如果将皮肤信息映射到YCrCb空间，则在CrCb二维空间中这些皮肤像素点近似成一个椭圆分布。于是早上起床研究了一下为啥。

首先我们需要弄清楚YCrCb空间是什么。
数字电视采用YUV色彩空间的原因主要就是为了减少数据储存空间和数据传输带宽，同时又能非常方便的兼容黑白电视(R-Y和B-Y信号为零)。对于YCbCr不是一种绝对颜色空间，而是YUV压缩和偏移的版本。YCbCr的Y与YUV中的Y含义一致，Cb和Cr与UV同样都指色彩，Cb指蓝色色度，Cr指红色色度。因此一般俗称的YUV大多是指YCbCr。

下面则是这两个空间的转换公式：

Y：表示明亮度，也就是灰阶值。“亮度”是透过RGB输入信号来建立的，方法是将RGB信号的特定部分叠加到一起。
Cb：反映的是RGB输入信号蓝色部分与RGB信号亮度值之间的差异。
Cr：反映了RGB输入信号红色部分与RGB信号亮度值之间的差异。

在以下两个公式中RGB和YCbCr各分量的值的范围均为0-255。

\[Y = 0.257R+0.564G+0.098B+16\]
\[Cb = -0.148R-0.291G+0.439B+128\]
\[Cr = 0.439R-0.368G-0.071B+128\]

\[R = 1.164(Y-16)+1.596(Cr-128)\]
\[G = 1.164(Y-16)-0.392(Cb-128)-0.813(Cr-128)\]
\[B =1.164(Y-16)+2.017(Cb-128)\]