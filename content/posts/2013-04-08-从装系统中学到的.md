---
date: "2013-04-08 16:24:23"
toc: true
id: 94
slug: /posts/从装系统中学到的
aliases:
    - /archives/2013/04/94/
tags:
    - 运维
title: 从装系统中学到的
---

前天在京东上买了三爽的840pro，昨天中午拿到后便开始鼓捣如何安装。

不要问我价格，硬盘这种东西属于日跌品，一天一个价。如果你想买的话，建议还是去京东这种卖正品的地方买大牌子，淘宝什么的，这种东西还是算了吧。 不然的话，其他的虽然也叫SSD，搞不好哪天你自己都不知道自己是怎么挂的。

---

还有，本文示例机器为DELL 17R 4728，买来就已经装好了正版的windows8操作系统，正是因为如此，才会导致我这个小白在安装系统的过程中，出现了各类奇葩的以前从未遇见过的问题。具体情况，我们下面再说。
安装系统的过程基本上都是类似的，可以说是一通百通。不要因为说只会给某某笔记本装系统这种话，如果是这样就说明你已经沦为工人，不懂得思考。

---

## 前置知识：

顺便说一句，我之所以选择840pro其实也是观望了很久的。 本来一开始我是打算买金士顿这种相当廉价的128g的SSD（这时候对SSD完全不具备任何知识，只是道听途说它很快），不过在日后的观察中发现，事实上号称SSD也是有优劣之分的。它并不像传统的机械硬盘一样，5400转 、7200转甚至10000转的硬盘，由于他本身的结构限制，两个成品的5400转硬盘，其读写速度相差不会太大（本身速度就不大= =），可能在寿命上会有一些差距，不过没意外的话用个五六年是没什么问题的吧。

三星在存储技术方面有很雄厚的积累，使得他自己有能力生产自己SSD所有的组件，这样它可以压低成本也能够保证稳定性。三星就稳定性和英特尔比起来，他俩算是做的最好的了（目前）。 同时，三星的SSD要比英特尔的便宜，所以很多厂商也选择三星的SSD来做OEM（什么是OEM我们等会儿再说）。以前三星的SSD速度一直是位于中端位置，自从830发布之后，这个局面已经大大改观了。

之前我在京东上相中了840，而不是840pro 。原因很简单，840比pro版便宜了很多。但是在观望这块SSD的过程中就发现很多买家抨击这块

硬盘的寿命太短。这是什么原因呢？我们先来看看一些小知识：

更为详细的SSD工作原理，有兴趣的可以去参考《深入理解计算机系统》这本书。 
SSD的存储架构一般有三种：

SLC=Single-LevelCell，即1bit/cell，速度快寿命长，价格超贵（约MLC3倍以上的价格），约10万次擦写寿命

MLC=Multi-LevelCell，即2bit/cell，速度一般寿命一般，价格一般，约3000---10000次擦写寿命

TLC=Trinary-LevelCell，即3bit/cell，也有Flash厂家叫8LC，速度慢寿命短，价格便宜，约500次擦写寿命，目前还没有厂家能做到1000次。  

有兴趣可以参看这篇文章稍微的详细介绍：http://tieba.baidu.com/p/2121663575  

三星的840就属于TLC的架构，所以很多网友就吐槽他的寿命太低。但是实际上按照120G的容量，如果算一天读写入5G的缓存文件，那么大约需要20天才会完成一次擦写寿命。至少500次的擦写寿命，大家可以想想，TLC的SSD实际上也是可以使用很长时间的。

= =好吧我承认我有强迫症，即便如此，我还是可耻的入了pro版本的，pro版是MLC架构的。所以使用四五年还是没什么问题的，而且这个硬盘的发票上注明了：五年之内保修。这个。。基本上五年之后这笔记本也差不多该换了。

为什么不考虑SLC？回去看它的介绍、、普通大众、、洗洗睡吧、、  

顺便说一句，实际上不买SLC也是可以达到这种速度的，那就是组RAID，至于什么是组RAID，有兴趣的同学可以自己研究一下，这个不是本文的主题了。  

=============================================================================================================

晒图

============================================================================================================= 

SUMSUNG SSD 840 PRO

![](/images/posts/94/1.jpeg)

真面目（话说这玩意儿真的好轻，比我的手机还轻）

![](/images/posts/94/2.jpeg)

=============================================================================================================

三星赠送的供一般用户转移数据用的，比如说我们可以用它直接把原来系统中的系统盘的所有文件通过他来转移到SSD中，但是我们不建议使用这种方式，因为原来系统盘中有各类垃圾文件，直接转移过去可能导致各类奇葩系统不稳定，不过我没试过，喜欢折腾的同学们可以尝试一下。     

============================================================================================================= 

![](/images/posts/94/3.jpeg)

![](/images/posts/94/4.jpeg)

![](/images/posts/94/5.jpeg)

![](/images/posts/94/6.jpeg)

=============================================================================================================

好，下面我们来看到怎么装系统。

 =============================================================================================================

## 一、准备工作

首先我们要准备好系统安装包。

win8专业版  系统下载：

32位系统：

ed2k://|file|cn_windows_8_x86_dvd_915414.iso|2679801856|9AF10141BFD61BC66D9D6459758D7749|/

64位系统：

ed2k://|file|cn_windows_8_x64_dvd_915407.iso|3652950016|5C7F8C212BD3A1827866563773A431C2|/

安装密钥：NG4HW-VH26C-733KW-K6F98-J8CK4  

工具：各种螺丝刀 （用于拆卸后盖，替换原装硬盘）

下载完毕后是iso格式的文件，请用快压之类的软件将其解压到一个空U盘内。准备装系统用。

注意，如果你的笔记本从来没有更换过系统（win8），一直是用的是原厂的系统，就会在主板上记录下你的激活信息。这是因为：

以前新一代Windows操作系统发布之后，一系列OEM激活码就如雨后春笋般出现。同时也产生了大量的盗版副本，微软对此早已深恶痛绝。究其原因，还是“批量CDKey许可”这种不完善的激活流程所造成的。

Windows 8将不再采用传统的激活方式，具体方式是每一台OEM机器都被要求写入唯一对应的Windows 8产品密钥，而无法再通过一个CDKey来批量激活系统。

这样就会导致安装win8其他版本时检测到主板的激活信息冲突，导致无法安装/

解决办法是：

在解压到U盘的sources文件夹下，新建文本，写入如下信息：

[EditionID]
[Channel]
Retail
[VL]
0

然后将文件名更改为： ei.cfg

这个步骤将使得你在安装系统的过程中，跳过对主板内激活信息的检测，逃避输入安装密钥的痛苦。     

说说系统，有些小白不清楚什么是32位和64位，最通俗的理解为可以使用更大的内存，32位操作系统只能使用2G内存（最大可以使用3G多一点，一般不会超过4G ）。所以，如果你清楚你电脑配备了多少G的内存，就自主选择吧。如果你只有2G的内存，建议还是不要选择64位系统，因为他远远没有32G流畅。

安装密钥是用于安装时需要输入的。这个只用于安装，至于真正的激活我们等下再说。

顺便说一句，话说这都什么年代了，32位也该洗洗睡了吧。不要为了极个别的软件而屈服在32位的限制下，是时候升级你的各类软件了。  

## 二、拆卸 与 安装

大家可以看到，笔记本后盖拆下来是这么个样子（不是完整的后盖，这个盖子盖上的是可以替换硬件的部分，用于一般用户升级配置用，其他地方拆掉都没有用，因为其他的（类似显卡，CPU等都是焊接在主板上 ）不可升级 ）。

由于我的本子是17寸的，所以有两个硬盘槽，我可以把原来的硬盘拆下来放在副硬盘盘槽里，再把SSD放在主槽内。

同学们一般是14寸以下的本本，所以只能换下原来的硬盘。如果你喜欢折腾，可以自己研究一下把光驱拆下来，利用这个空间安装另外的硬盘。    

大家可以看到，图片上的这块硬盘是我笔记本原装的硬盘，他本身是位于右下角的位置。现在我把它拆下来放到中间的副盘盘位。

细心的同学可以发现，实际上我这里还有一个MSATA的预留盘位，也就意味着我可以安装三块硬盘到我的笔记本上（偷笑）。 

![](/images/posts/94/7.jpeg)

细心的同学可能发现了，我SSD装在了副盘盘位上，当时我是想先在系统上对SSD先进行优化，这样会最大限度的利用好SSD，结果我失败了，这样的安装只能在BIOS里面显示出笔记本已经连接840pro，但是进入系统后根本找不到这块硬盘。原因是因为这块硬盘没有进行初始化。

所以请注意：要把下图所示的位置换过来后在电脑里面对SSD进行初始化。

![](/images/posts/94/8.jpeg)

所以说，如果你买了一块新的硬盘，如果插上就能用，就说明这块不是全新的，已经被别人至少使用过一次，因为他已经帮你初始化过了。   

初始化硬盘的时候，会让你选择硬盘模式：GPT或者MBR。

这个我们选择MBR，如果你的硬盘2tb以上的话，就选择GPT。不过我相信没有哪个同学的SSD是超过2tb的吧。至于为什么这么选，有兴趣的同学请自行研究，我这里解释起来就显得有点累赘了。 

初始化完成之后，可以用AS SSD Benchmark这类软件对SSD的4k对齐进行检测，如果没有对齐，就请使用相关厂商自己提供的对齐工具进行对齐。至于什么是4k对齐，一般用户只需知道没有进行4K对齐的SSD速度会大打折扣。 进一步的了解可以参看：http://bbs.ithome.com/thread-447349-1-1.html 

新SSD的一切优化完成后，就请将Ssd放到主盘位上，如下图，准备进入BIOS阶段。 

![](/images/posts/94/9.jpeg)


## 三、BIOS相关

好了， 为什么要专门开一个BIOS的阶段，我这次可是被这个BIOS给弄死了，这个版本的BIOS我还是第一次见，DELL也真是，烦死了。 一个同学和我说，设置U盘启动在advanced里面，我进去后看见所有的选项都没有一个是和u盘boot启动相关，（顺便说一句，可以看到下面图中有个选项是SATA Operation，如果是SSD请务必选择AHCI保证最大限度的发挥SSD的性能）然后我就苦苦在这个BIOS里面寻找，始终没有找到。

![](/images/posts/94/10.jpeg)

下面是BOOT菜单，这就是预装win8的笔记本比较操蛋的地方：没有USB启动。实际上并不是这样，只不过是因为为了让笔记本初次进入系统的时候，强制进入预装的win8系统，bios菜单项被修改为secure boot了，在这个模式下，boot list option只能是uefi模式，也就是常说的EFI系统， 他区别于以前我们说使用的模式LegacyBIOS（具体参见：http://baike.baidu.com/view/112215.htm）。

![](/images/posts/94/11.jpeg)

我们将secure boot的状态调整为desabled后，就会发现出现了legacyboot和uefiboot，只有legacyboot才提供了usb storage device。我们将这项调整到第一个位置。

![](/images/posts/94/12.jpeg)


不要太过兴奋就保存开始准备安装，如果你参照上图就保存了，说明你没有看明白我前面所说的，如果你上面的boot list option是选择的uefi，那么你就会出现下面图中这种苦逼的情况。
![](/images/posts/94/13.jpeg)

在第一部分我们提到过，将SSD使用gpt或者mbr，如果你不是2tb以上的ssd，选择mbr会获得更大的存储空间，这是因为，对硬盘进行分区，也是需要消耗硬盘的空间的，由于不同模式的磁盘的存储原理不同，在mbr模式下，对2tb以上的硬盘进行分区会造成无法分割的瓶颈，但是gpt

不会出现这种情况（注意gpt会消耗更多的磁盘空间）。一般我们的ssd用来做系统盘，不需要再给他分区了（本身才120G，再分除非你特别无聊）。而我们的ssd选择了mbr出现下图怎么办呢，所以我们需要将上面图中的u盘启动模式boot list option切换很legacy的模式，这样的话就可以顺利的进行安装了。 

![](/images/posts/94/14.jpeg)

ssd安装系统超级快，不过受到U盘本身速度的影响，大概十分钟左右，如果你是3.0的U盘，恭喜，大概五分钟即可完成系统安装。

![](/images/posts/94/15.jpeg)

上面的过程结束后，会重启两次，出现下图。

![](/images/posts/94/16.jpeg)

然后，我们的系统就装好了。尽情的享用win8专业版吧~（有兴趣的话可以去下企业版，不过增加的功能估计你这辈子都很难用到）

## 四、各类激活

先说说系统激活，系统激活现在淘宝上卖key激活（如果你相信自己的搜索能力可以在网络上搜索还能够使用的key ），三块到几百不等（很明显我们直接选三块的key就好了嘛），他们的激活方式分为两种，一种是在线激活（直接在系统激活中输入key，通过联网与微软服务器进行验证，激活win8），另一种是电话激活（通过打电话给微软的电话服务端进行验证）。这两种方式我觉得使用电话激活比较靠谱（因为win8正式发布后只有电话激活这种方式能够让我们免费使用正版win8，之后出现的联网激活原理可能是那种企业的批量授权key进行联网验证一旦微软查出进行封杀，推送一个update，你的系统又会变成未激活状态了 ），至于其他的软件激活都属于伪激活，如果你不介意也可以，win8几乎每周
都推送更新，你update一次，就会恢复到未激活态，你能忍受吗？

![](/images/posts/94/17.jpeg)


下面是激活后的状态。

![](/images/posts/94/18.jpeg)

如果你是用的伪激活，这不会显示下图中出现的激活时间（精确到日）。

![](/images/posts/94/19.jpeg)

 搞定激活后，安装各类驱动吧~

![](/images/posts/94/20.jpeg)

晒一下我这块ssd的体验指数，是8.1。

= =最低分5.9是集成显卡的跑分（话说集显都可以跑5.9啊。。好高兴啊。。），这个无视吧。。独立显卡居然才6.8分，太恶心了。
不是说这块gt650不是号称无阉割的开普勒架构么。怎么才6.8，我还以为会7.2以上。

![](/images/posts/94/21.jpeg)






